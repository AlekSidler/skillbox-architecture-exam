[Heading](../heading.md)

[Previous chapter](15-risk-analysis.md)


# Стоимость владения системой

Все вычисления являются приблизительными.

Зафиксируем доллар по цене 75р.

Сокращения: k = 1000; kk = 1000k

## Стоимость разработки

Каждый из следующих компонент планируется дать одной команде. Допустим, в среднем, каждая из команд состоит из 5 человек: PM, QA, Team lead, Dev, Dev. И в среднем бюджет на одну команду -- 20000$.
У нас должны быть команды, занимающиеся следующими вещами:
1. Компонент ССС
1. Компонент Тренировочный
1. Компонент Игровой
1. Приложение на Android
1. Приложение на IOS
1. Администрирование имеющихся серверов
1. Менеджмент


Также нам ещё необходимо настроить нашу инфраструктуру. Возьмём например компанию Флант, у неё есть [цены](https://flant.ru/services/devops-as-a-service) на полный цикл работ и поддержку. Ориентировочно у нас будет проект L, который будет стоить около 750000р./мес. или 10000$


В итоге на людей мы будем тратить 150k$ в месяц.

Допустим разработка будет вестись два года. В итоге в сумме мы на разработку потратим 3.6kk$.



## Стоимость поддержки

Считается, что поддержка занимает треть стоимости разработки, поэтому поддержка будет нам выходить 1.2kk$ в год.

## Стоимость серверов


Для раскатки всех сервисов одной локации нам понадобится около 10 серверов (2 control plane, 8 на все приложения и базы данных).

Для начала нам необходимы: продовая, тестовая и препродовая локации, в итоге около 30 серверов.

90% сервером мы планируем снимать, 10% серверов наши.

Допустим у нас 30% серверов - Yandex cloud, 30% - Google cloud, 30% - AWS.

Получается, нам необходимо:

* 3 свои машины
* 9 AWS
* 9 Google cloud
* 9 Yandex cloud

Предположим, что в среднем нам нужен компьютер с ~16 ядрами ~128гб памяти и ~1ТБ SSD.

Для расчёта стоимости были выбраны полноценные сервера, которыми мы владеем. В будущем эту часть расходов точно можно будет уменьшить (например используя on spot), но пока посчитаем так.

### Свои сервера

Стоимость тут относительно других невелика (съём помещения, оплата электроэнергии), работа администраторов была уже учтена.


### AWS

Нам тут подходит инстанс m5ad.8xlarge: 32 vCPU, 128 GiB, 1.2Tb SSD.

Мы хотим арендовать 9 таких инстансов (dedicated, Ohio) на год и при оплате заранее у нас получится 1.229 * 24 * 365 * 9 ~ 97k$


### Google Cloud

В этом случае нам подходит e2-standard-32: 32 vCPUs, 12 GiB, 1Tb SSD.

[Калькулятор](https://cloud.google.com/products/calculator) нам говорит, что конфигурация в месяц выйдет 8557$, или же ~ 102k$ в год

### Yandex Cloud

В [калькуляторе](https://cloud.yandex.ru/services/compute) были выбраны параметры машины: Intel Ice Lake, 32 vCPU, 128 GiB, 1TB SSD, в месяц получается 62365р за одну машину,или же всего: 62365 * 12 * 9 ~ 6.7kk ~ 90k$


## Итого

В итоге у нас получается около 300k$ в год (без учёта дополнительных data storage) на сервера

Нужно также учесть, что в будущем эти расходы будут только расти и важно будет переходить на собственные сервера.


Допустим, разработка будет вестись 3 года, далее -- поддержка.
В итоге получается, что за первые 3 года мы потратим около 4.5kk$, а далее по 700k$ в год.
